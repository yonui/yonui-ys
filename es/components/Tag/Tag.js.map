{"version":3,"sources":["components/Tag/Tag.js"],"names":["React","Component","PropTypes","classnames","Tag","CheckableTag","simpleMerge","DefaultProps","colors","closable","propTypes","color","oneOf","TagAdapter","props","e","preventDefault","onClose","afterClose","config","text","children","charAt","style","backgroundColor","state","tagName","className","clsObj","classes","handleClose","onClick"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Tag from 'bee-tag';\n\nimport CheckableTag from './CheckableTag';\nimport { simpleMerge } from '../../utils';\n\nconst DefaultProps = {\n  colors: 'light',\n  closable: false\n};\n\nconst propTypes = {\n  color: PropTypes.oneOf(['pink', 'red', 'orange', 'cyan', 'blue', 'purple', 'green'])\n};\n\nclass TagAdapter extends Component {\n  constructor (props) {\n    super(props);\n\n    const config = {\n      closable: this.props.closable,\n      text: this.props.children\n    };\n\n    if (this.props.color && this.props.color.charAt(0) === '#') {\n      config.style = {\n        backgroundColor: this.props.color,\n        color: '#fff'\n      };\n    } else {\n      config.color = this.props.color;\n    }\n\n    // 不直接用Object.assign 是为了避免 undefined 覆盖默认\n    this.state = simpleMerge(DefaultProps, config);\n  }\n\n  handleClose = (e) => {\n    e.preventDefault();\n    this.props.onClose && this.props.onClose(e);\n    this.afterClose();\n  }\n\n  afterClose (tagName) {\n    this.props.afterClose && this.props.afterClose(tagName);\n  }\n\n  render () {\n    const { className, style } = this.props;\n    const {\n      closable,\n      text,\n      color\n      // style\n    } = this.state;\n\n    const clsObj = {};\n    if (color) {\n      clsObj[`u-tag-color-${color}`] = true;\n    }\n    const classes = classnames(className, clsObj);\n    return (\n      <Tag\n        ref='myTag'\n        {...this.props}\n        colors='light'\n        deleted={closable}\n        visible={closable}\n        onClose={this.handleClose}\n        className={classes}\n        style={style}\n        tagClick={this.props.onClick}\n      >\n        {text}\n      </Tag>\n    );\n  }\n}\n\nTagAdapter.propTypes = propTypes;\nTagAdapter.CheckableTag = CheckableTag;\n\nexport default TagAdapter;\n"],"file":"Tag.js"}