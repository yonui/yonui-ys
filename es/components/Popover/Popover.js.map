{"version":3,"sources":["components/Popover/Popover.js"],"names":["React","Component","findDOMNode","Popover","classnames","omit","defaultProps","placement","trigger","PopoverAdapter","props","onVisibleChange","setState","visible","getPopupContainer","state","target","getContainerTarget","nextProps","children","overlayClassName","tinperClassName","className","overlayStyle","_innerType","other","cls","innerSpanCls","process","env","__CLIENT__","onClick"],"mappings":"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","sourcesContent":["// PopoverAdapter\nimport React, { Component } from 'react';\nimport { findDOMNode } from 'react-dom';\n\nimport Popover from 'bee-popover';\nimport classnames from 'classnames';\nimport omit from 'omit.js';\n\nconst defaultProps = {\n  placement: 'bottom',\n  trigger: 'click', // fix: 智能录入弹框不显示\n}\n\nclass PopoverAdapter extends Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      visible: this.props.visible || false\n    }\n  }\n\n  componentDidMount () {\n    this.target = this.getContainerTarget();\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (nextProps.visible !== this.state.visible) {\n      this.setState({\n        visible: nextProps.visible\n      })\n    }\n  }\n\n  onClick = () => {\n    const { onVisibleChange } = this.props;\n    onVisibleChange && onVisibleChange(true);\n    this.setState({\n      visible: true\n    })\n  }\n\n  onVisibleChange = (visible) => {\n    if (visible) {\n      return\n    }\n    const { onVisibleChange } = this.props;\n    onVisibleChange && onVisibleChange(visible);\n    this.setState({ visible });\n  }\n\n  getContainerTarget = () => {\n    return typeof this.props.getPopupContainer === 'function' ? this.props.getPopupContainer(findDOMNode(this)) : this.props.getPopupContainer;\n  }\n\n  render () {\n    const { children, overlayClassName, tinperClassName, className, onVisibleChange, placement, trigger, overlayStyle, _innerType, ...other } = this.props;\n    const { visible } = this.state;\n\n    const cls = classnames(overlayClassName, tinperClassName, 'ant-popover');\n    const innerSpanCls = classnames(_innerType, 's-popover-inner-span');\n\n    if (!process.env.__CLIENT__) {\n      // 修复服务端渲染 Popover 问题\n      return <div />;\n    }\n\n    if (trigger === 'hover') {\n      return (\n        <Popover\n          {...omit(other, ['visible', 'getPopupContainer'])}\n          placement={placement}\n          className={cls}\n          trigger={trigger}\n          container={this.target}\n          style={overlayStyle}\n        >\n          <span className={innerSpanCls}>\n            {children}\n          </span>\n        </Popover>\n      )\n    }\n\n    return (\n      <Popover\n        {...omit(other, ['getPopupContainer'])}\n        placement={placement}\n        show={visible}\n        className={cls}\n        trigger={trigger}\n        container={this.target}\n        onVisibleChange={this.onVisibleChange}\n        style={overlayStyle}\n      >\n        <span onClick={this.onClick} className={innerSpanCls}>\n          {children}\n        </span>\n      </Popover>\n    );\n  }\n}\n\nPopoverAdapter.defaultProps = defaultProps;\nexport default PopoverAdapter;\n"],"file":"Popover.js"}