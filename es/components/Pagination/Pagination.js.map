{"version":3,"sources":["components/Pagination/Pagination.js"],"names":["React","Component","Pagination","findIndex","sizeMap","small","large","defaultProps","pageSizeOptions","PaginationAdapter","index","pageSize","singlePage","props","onShowSizeChange","current","parseInt","options","map","item","total","includes","size","onChange","others","dataNum","items","Math","ceil","isNaN","onPageSizeChange"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,gBAAvB;AAEA,SAASC,SAAT,QAA0B,aAA1B;AAEA,IAAMC,OAAO,GAAG;AACdC,EAAAA,KAAK,EAAE,IADO;AAEdC,EAAAA,KAAK,EAAE,IAFO;AAGd,MAAI;AAHU,CAAhB;AAMA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,eAAe,EAAE;AADE,CAArB;;IAIMC,iB;;;;;;;;;;;;;;;;uEACiB,UAACC,KAAD,EAAQC,QAAR,EAAqB;AACtC,UAAI,MAAKC,UAAL,EAAJ,EAAuB;AACvB,YAAKC,KAAL,CAAWC,gBAAX,IACE,MAAKD,KAAL,CAAWC,gBAAX,CAA4B,MAAKD,KAAL,CAAWE,OAAvC,EAAgDC,QAAQ,CAACL,QAAD,CAAxD,CADF;AAED,K;;4EAEuB,UAACM,OAAD,EAAa;AACnC,aAAOA,OAAO,CAACC,GAAR,CAAY,UAACC,IAAD,EAAU;AAC3B,eAAOA,IAAI,GAAG,MAAd;AACD,OAFM,CAAP;AAGD,K;;iEAEY,YAAM;AAAA,wBAC4B,MAAKN,KADjC;AAAA,UACTL,eADS,eACTA,eADS;AAAA,UACQG,QADR,eACQA,QADR;AAAA,UACkBS,KADlB,eACkBA,KADlB;AAEjB,aAAO,CAACZ,eAAe,CAACa,QAAhB,CAAyBV,QAAQ,GAAG,EAApC,CAAD,IAA4CA,QAAQ,KAAKS,KAAhE;AACD,K;;;;;;;6BAES;AAAA,yBACuE,KAAKP,KAD5E;AAAA,UACFE,OADE,gBACFA,OADE;AAAA,UACOP,eADP,gBACOA,eADP;AAAA,UACwBG,QADxB,gBACwBA,QADxB;AAAA,UACkCW,IADlC,gBACkCA,IADlC;AAAA,UACwCF,KADxC,gBACwCA,KADxC;AAAA,UAC+CG,QAD/C,gBAC+CA,QAD/C;AAAA,UAC4DC,MAD5D;;AAGR,UAAIC,OAAO,GAAGtB,SAAS,CAACK,eAAD,EAAkBG,QAAQ,GAAG,EAA7B,CAAvB;AACA,UAAMe,KAAK,GAAGC,IAAI,CAACC,IAAL,CAAUR,KAAK,GAAGT,QAAlB,CAAd;;AAEA,UAAI,KAAKC,UAAL,EAAJ,EAAuB;AACrBJ,QAAAA,eAAe,GAAG,CAACG,QAAQ,GAAG,EAAZ,CAAlB;AACAc,QAAAA,OAAO,GAAG,CAAV;AACD;;AACD,0BACE,oBAAC,UAAD;AACE,QAAA,QAAQ,MADV;AAEE,QAAA,IAAI,MAFN;AAGE,QAAA,IAAI,MAHN;AAIE,QAAA,QAAQ,MAJV;AAKE,QAAA,GAAG,MALL;AAME,QAAA,aAAa,MANf;AAOE,QAAA,UAAU,EAAE,CAPd;AAQE,QAAA,UAAU,EAAEV,OARd;AASE,QAAA,OAAO,EAAEU,OATX;AAUE,QAAA,aAAa,EAAEjB,eAVjB;AAWE,QAAA,IAAI,EAAEJ,OAAO,CAACkB,IAAD,CAXf;AAYE,QAAA,KAAK,EAAEO,KAAK,CAACT,KAAD,CAAL,GAAe,CAAf,GAAmBA,KAZ5B;AAaE,QAAA,QAAQ,EAAEG,QAbZ;AAcE,QAAA,eAAe,EAAE,KAAKO,gBAdxB;AAeE,QAAA,KAAK,EAAEJ;AAfT,SAgBMF,MAhBN,EADF;AAoBD;;;;EAhD2BvB,S;;AAmDhCQ,iBAAiB,CAACF,YAAlB,GAAiCA,YAAjC;AACA,eAAeE,iBAAf","sourcesContent":["import React, { Component } from 'react';\nimport Pagination from 'bee-pagination';\n\nimport { findIndex } from '../../utils';\n\nconst sizeMap = {\n  small: 'sm',\n  large: 'lg',\n  '': ''\n};\n\nconst defaultProps = {\n  pageSizeOptions: []\n}\n\nclass PaginationAdapter extends Component {\n    onPageSizeChange = (index, pageSize) => {\n      if (this.singlePage()) return;\n      this.props.onShowSizeChange &&\n        this.props.onShowSizeChange(this.props.current, parseInt(pageSize));\n    };\n\n    renderPageSizeOptions = (options) => {\n      return options.map((item) => {\n        return item + ' 条/页';\n      });\n    }\n\n    singlePage = () => {\n      const { pageSizeOptions, pageSize, total } = this.props;\n      return !pageSizeOptions.includes(pageSize + '') && pageSize === total;\n    }\n\n    render () {\n      let { current, pageSizeOptions, pageSize, size, total, onChange, ...others } = this.props;\n\n      let dataNum = findIndex(pageSizeOptions, pageSize + '');\n      const items = Math.ceil(total / pageSize);\n\n      if (this.singlePage()) {\n        pageSizeOptions = [pageSize + ''];\n        dataNum = 0;\n      }\n      return (\n        <Pagination\n          showJump\n          prev\n          next\n          ellipsis\n          gap\n          boundaryLinks\n          maxButtons={5}\n          activePage={current}\n          dataNum={dataNum}\n          dataNumSelect={pageSizeOptions}\n          size={sizeMap[size]}\n          total={isNaN(total) ? 0 : total}\n          onSelect={onChange}\n          onDataNumSelect={this.onPageSizeChange}\n          items={items}\n          {...others}\n        />\n      );\n    }\n}\n\nPaginationAdapter.defaultProps = defaultProps;\nexport default PaginationAdapter;\n"],"file":"Pagination.js"}