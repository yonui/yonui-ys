{"version":3,"sources":["components/Input/Search.js"],"names":["React","Component","classnames","FormControl","omit","eventList","filterNotEvent","obj","result","Object","keys","map","key","includes","Search","props","val","e","propEvent","fn","setState","value","state","style","className","defaultValue","placeholder","attrs","nextProps","newValue","oldValue","ref","handleEvent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport classnames from 'classnames';\nimport FormControl from 'bee-form-control';\nimport omit from 'omit.js';\n\nconst eventList = ['onChange', 'onSearch'];\nfunction filterNotEvent (obj) {\n  const result = {};\n  Object.keys(obj).map(key => {\n    if (!eventList.includes(key)) {\n      result[key] = obj[key];\n    }\n  });\n  return result;\n}\n\nclass Search extends Component {\n  constructor (props) {\n    super(props);\n\n    this.state = {\n      style: props.style,\n      className: props.className,\n      value: props.value || props.defaultValue,\n      placeholder: props.placeholder,\n      attrs: filterNotEvent(props)\n    };\n  }\n\n  componentWillReceiveProps (nextProps) {\n    const { value: newValue } = nextProps;\n    const { value: oldValue } = this.props;\n    if (newValue !== oldValue) {\n      this.setState({\n        value: newValue\n      })\n    }\n  }\n\n  handleEvent = (val, e, propEvent) => {\n    const fn = this.props[propEvent];\n\n    if (propEvent === 'onSearch') {\n      fn && fn(val);\n    } else {\n      fn && fn(e);\n    }\n\n    if (propEvent === 'onChange') {\n      this.setState({\n        value: val\n      });\n    }\n  }\n\n  render () {\n    const {\n      value,\n      className,\n      attrs,\n      style\n    } = this.state;\n\n    return (\n      <span className={classnames(className, 'u-form-control-search-container')} style={style}>\n        <FormControl\n          {...omit(attrs, ['style', 'placeholder'])}\n          value={value}\n          placeholder={this.props.placeholder}\n          ref={(e) => { this.ref = e }}\n          onSearch={(val, e) => { this.handleEvent(val, e, 'onSearch') }}\n          onChange={(val, e) => { this.handleEvent(val, e, 'onChange') }}\n          onBlur={(val, e) => { this.handleEvent(val, e, 'onBlur') }}\n          onFocus={(val, e) => { this.handleEvent(val, e, 'onFocus') }}\n          type='search'\n        />\n      </span>\n    );\n  }\n}\n\nexport default Search;\n"],"file":"Search.js"}